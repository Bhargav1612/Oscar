#import "DiscoverViewController.h"

@interface DiscoverViewController ()

@property (nonatomic, strong) UIView *dimOverlayView;  // For grey-out effect
@property (nonatomic, strong) UIView *tileView;        // Tile view to display "Hello"

@end

@implementation DiscoverViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    
    // Set up the dim overlay and tile view
    [self setupOverlay];
}

// Step 1: Setup the grey-out overlay and tile view
- (void)setupOverlay {
    // Create grey-out overlay
    self.dimOverlayView = [[UIView alloc] initWithFrame:self.view.bounds];
    self.dimOverlayView.backgroundColor = [[UIColor blackColor] colorWithAlphaComponent:0.5];
    self.dimOverlayView.hidden = YES;  // Initially hidden
    
    [self.view addSubview:self.dimOverlayView];
    
    // Create tile view (centered box)
    CGFloat tileWidth = 200.0;
    CGFloat tileHeight = 100.0;
    self.tileView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, tileWidth, tileHeight)];
    self.tileView.center = self.view.center;  // Center the tile view
    self.tileView.backgroundColor = [UIColor whiteColor];
    self.tileView.layer.cornerRadius = 10.0;
    self.tileView.hidden = YES;  // Initially hidden
    
    // Add a label inside the tile view
    UILabel *helloLabel = [[UILabel alloc] initWithFrame:self.tileView.bounds];
    helloLabel.text = @"Hello";
    helloLabel.textAlignment = NSTextAlignmentCenter;
    helloLabel.font = [UIFont boldSystemFontOfSize:20.0];
    [self.tileView addSubview:helloLabel];
    
    [self.dimOverlayView addSubview:self.tileView];
}

// Step 2: Show the overlay and tile when the page is loaded
- (void)viewDidAppear:(BOOL)animated {
    [super viewDidAppear:animated];
    
    [self showOverlay];
}

// Step 3: Display the overlay and tile view
- (void)showOverlay {
    self.dimOverlayView.hidden = NO;  // Show grey-out overlay
    self.tileView.hidden = NO;        // Show tile view on top
    
    NSLog(@"Overlay and Tile view displayed");
}

@end
